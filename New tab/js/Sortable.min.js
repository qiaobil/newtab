!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};function r(t,e){var n,o=G(t),i=f(o.width),r=St(t,0,e),t=St(t,1,e),e=r&&G(r),a=t&&G(t),l=e&&f(e.marginLeft)+f(e.marginRight)+Q(r).width,s=a&&f(a.marginLeft)+f(a.marginRight)+Q(t).width;return"flex"===o.display?"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal":r&&"none"!==e.float?(n="left"===e.float?"left":"right",!t||"both"!==a.clear&&a.clear!==n?"horizontal":"vertical"):r&&("block"===e.display||"flex"===e.display||"table"===e.display||"grid"===e.display||i<=l&&"none"===o[D]||t&&"none"===o[D]&&i<l+s)?"vertical":"horizontal"}function x(t,e){if(!t||!t.getBoundingClientRect)return L;var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=G(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n||!n.getBoundingClientRect||n===W.body)return L;if(o||e)return n;o=!0}}}while(n=n.parentNode);return L}function d(t){C&&C.parentNode&&C.parentNode[R]&&C.parentNode[R]._computeIsAligned(t)}function J(t,e){for(var n=e;!n[R];)n=n.parentNode;return t===n}function $(t,e,n){for(var o=t.parentNode;o&&!o[R];)o=o.parentNode;o&&o[R][n](xt(e,{artificialBubble:!0}))}function h(){!ct&&E&&G(E,"display","none")}function p(){!ct&&E&&G(E,"display","")}var C,T,E,u,N,X,g,Y,tt,et,M,o,nt,P,l,v,m,s,k,ot,I,A,O,it,B,H=[],rt=!1,b=!1,at=!1,a=[],lt=!1,st=!1,w=/\s+/g,R="Sortable"+(new Date).getTime(),L=window,W=L.document,f=L.parseInt,F=L.setTimeout,e=L.jQuery||L.Zepto,n=L.Polymer,_={capture:!1,passive:!1},z=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),y=!!navigator.userAgent.match(/Edge/i),D=y||z?"cssFloat":"float",S="draggable"in W.createElement("div"),ct=function(){if(z)return!1;var t=W.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),dt=!1,ht=!1,j=Math.abs,ut=Math.min,ft=[],pt=Et(function(n,t,e,o){if(t.scroll){var i=e?e[R]:window,r=t.scrollSensitivity,a=t.scrollSpeed,l=n.clientX,s=n.clientY,c=(window.innerWidth,window.innerHeight,!1),d=(tt!==e&&(gt(),Y=t.scroll,et=t.scrollFn,!0===Y&&(Y=x(e,!0),tt=Y)),0),h=Y;do{var u,f,p,g,v,m,b=h,w=Q(b),_=w.top,y=w.bottom,D=w.left,S=w.right,C=w.width,w=w.height,T=b!==L?(u=b.scrollWidth,f=b.scrollHeight,p=G(b),g=C<u&&("auto"===p.overflowX||"scroll"===p.overflowX),v=w<f&&("auto"===p.overflowY||"scroll"===p.overflowY),m=b.scrollLeft,b.scrollTop):(u=W.documentElement.scrollWidth,f=W.documentElement.scrollHeight,p=G(W.documentElement),g=C<u&&("auto"===p.overflowX||"scroll"===p.overflowX||"visible"===p.overflowX),v=w<f&&("auto"===p.overflowY||"scroll"===p.overflowY||"visible"===p.overflowY),m=W.documentElement.scrollLeft,W.documentElement.scrollTop),S=g&&(j(S-l)<=r&&m+C<u)-(j(D-l)<=r&&!!m),C=v&&(j(y-s)<=r&&T+w<f)-(j(_-s)<=r&&!!T);if(!H[d])for(var E=0;E<=d;E++)H[E]||(H[E]={});H[d].vx==S&&H[d].vy==C&&H[d].el===b||(H[d].el=b,H[d].vx=S,H[d].vy=C,clearInterval(H[d].pid),!b||0==S&&0==C||(c=!0,H[d].pid=setInterval(function(){o&&0===this.layer&&U.active._emulateDragOver(!0);var t=H[this.layer].vy?H[this.layer].vy*a:0,e=H[this.layer].vx?H[this.layer].vx*a:0;"function"==typeof et&&"continue"!==et.call(i,e,t,n,k,H[this.layer].el)||(H[this.layer].el===L?L.scrollTo(L.pageXOffset+e,L.pageYOffset+t):(H[this.layer].el.scrollTop+=t,H[this.layer].el.scrollLeft+=e))}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==L&&(h=x(h,!1)));rt=c}},30),gt=function(){H.forEach(function(t){clearInterval(t.pid)}),H=[]},vt=function(t){function l(r,a){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||i))return!0;if(null==r||!1===r)return!1;if(a&&"clone"===r)return r;if("function"==typeof r)return l(r(t,e,n,o),a)(t,e,n,o);i=(a?t:e).options.group.name;return!0===r||"string"==typeof r&&r===i||r.join&&-1<r.indexOf(i)}}var e={},n=t.group;e.name=(n=n&&"object"==typeof n?n:{name:n}).name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e};W.addEventListener("click",function(t){if(at)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),at=!1},!0);function t(t){var e;t=t.touches?t.touches[0]:t,C&&(e=function(t,e){for(var n=0;n<a.length;n++)if(!a[n].children.length){var o=Q(a[n]),i=a[n][R].options.emptyInsertThreshold,r=t>=o.left-i&&t<=o.right+i,o=e>=o.top-i&&e<=o.bottom+i;if(r&&o)return a[n]}}(t.clientX,t.clientY))&&e[R]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:e,rootEl:e})}var mt;function U(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=xt({},e),t[R]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return r(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:f(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==U.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(n in i)n in e||(e[n]=i[n]);for(o in vt(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&S,e.supportPointer?c(t,"pointerdown",this._onTapStart):(c(t,"mousedown",this._onTapStart),c(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(c(t,"dragover",this),c(t,"dragenter",this)),a.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function V(t,e,n,o){if(t){n=n||W;do{if(null!=e&&(">"===e[0]&&t.parentNode===n&&Tt(t,e.substring(1))||Tt(t,e))||o&&t===n)return t}while(t!==n&&(t=(i=t).host&&i!==W&&i.host.nodeType?i.host:i.parentNode))}var i;return null}function c(t,e,n){t.addEventListener(e,n,_)}function i(t,e,n){t.removeEventListener(e,n,_)}function q(t,e,n){var o;t&&e&&(t.classList?t.classList[n?"add":"remove"](e):(o=(" "+t.className+" ").replace(w," ").replace(" "+e+" "," "),t.className=(o+(n?" "+e:"")).replace(w," ")))}function G(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return W.defaultView&&W.defaultView.getComputedStyle?n=W.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=e in o||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=n+("string"==typeof n?"":"px")}}function bt(t){var e="";do{var n=G(t,"transform")}while(n&&"none"!==n&&(e=n+" "+e),t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function wt(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function K(t,e,n,o,i,r,a,l,s){var c,d=(t=t||e[R]).options,h="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||z||y?(c=W.createEvent("Event")).initEvent(n,!0,!0):c=new CustomEvent(n,{bubbles:!0,cancelable:!0}),c.to=i||e,c.from=r||e,c.item=o||e,c.clone=u,c.oldIndex=a,c.newIndex=l,c.originalEvent=s,e&&e.dispatchEvent(c),d[h]&&d[h].call(t,c)}function _t(t,e,n,o,i,r,a,l){var s,c,d=t[R],h=d.options.onMove;return!window.CustomEvent||z||y?(s=W.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||Q(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=h?h.call(d,s,a):c}function yt(t){t.draggable=!1}function Dt(){dt=!1}function St(t,e,n){for(var o=0,i=0,r=t.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==E&&r[i]!==C&&V(r[i],n.draggable,t,!1)){if(o===e)return r[i];o++}i++}return null}function Ct(t){for(var e=t.lastElementChild;(e===E||"none"===e.style.display)&&(e=e.previousElementSibling););return e||null}function Z(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t&&t.previousElementSibling;)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==u&&n++;return n}function Tt(t,e){if(t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function Et(n,o){return function(){var t,e;mt||(t=arguments,e=this,mt=F(function(){1===t.length?n.call(e,t[0]):n.apply(e,t),mt=void 0},o))}}function xt(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Nt(t){return n&&n.dom?n.dom(t).cloneNode(!0):e?e(t).clone(!0)[0]:t.cloneNode(!0)}function Xt(t){return F(t,0)}function Yt(t){return clearTimeout(t)}function Q(t,e,n){if(t.getBoundingClientRect||t===L){var o,i,r,a,l,s,c=t!==L?(i=(o=t.getBoundingClientRect()).top,r=o.left,a=o.bottom,l=o.right,s=o.height,o.width):(r=i=0,a=window.innerHeight,l=window.innerWidth,s=window.innerHeight,window.innerWidth);if(n&&t!==L){if(e=e||t.parentNode,!z)do{if(e&&e.getBoundingClientRect&&"none"!==G(e,"transform")){var d=e.getBoundingClientRect();i-=d.top+f(G(e,"border-top-width")),r-=d.left+f(G(e,"border-left-width")),a=i+o.height,l=r+o.width;break}}while(e=e.parentNode);var n=bt(t),t=n&&n.a,h=n&&n.d;n&&(a=(i/=h)+(s/=h),l=(r/=t)+(c/=t))}return{top:i,left:r,bottom:a,right:l,width:c,height:s}}}return c(W,"dragover",t),c(W,"mousemove",t),c(W,"touchmove",t),U.prototype={constructor:U,_computeIsAligned:function(t){var e;if(E&&!ct?(h(),e=W.elementFromPoint(t.clientX,t.clientY),p()):e=t.target,e=V(e,this.options.draggable,this.el,!1),!ht&&C&&C.parentNode===this.el){for(var n,o,i,r,a,l=this.el.children,s=0;s<l.length;s++)V(l[s],this.options.draggable,this.el,!1)&&l[s]!==e&&(l[s].sortableMouseAligned=(n=t.clientX,o=t.clientY,r=l[s],i=this._getDirection(t,null),this.options,r=Q(r),a="vertical"===i?r.left:r.top,r="vertical"===i?r.right:r.bottom,a<(a="vertical"===i?n:o)&&a<r));V(e,this.options.draggable,this.el,!0)||(I=null),ht=!0,F(function(){ht=!1},30)}},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,C):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e,n=this,o=this.el,i=this.options,r=i.preventOnFilter,a=t.type,l=t.touches&&t.touches[0],s=(l||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,d=i.filter,h=o;ft.length=0;for(var u=h.getElementsByTagName("input"),f=u.length;f--;){var p=u[f];p.checked&&ft.push(p)}if((!z||t.artificialBubble||J(o,s))&&!C&&!(/mousedown|pointerdown/.test(a)&&0!==t.button||i.disabled||c.isContentEditable))if(s=V(s,i.draggable,o,!1)){if(g!==s){if(e=Z(s,i.draggable),"function"==typeof d){if(d.call(this,t,s,this))return K(n,c,"filter",s,o,o,e),void(r&&t.cancelable&&t.preventDefault())}else if(d=d&&d.split(",").some(function(t){if(t=V(c,t.trim(),o,!1))return K(n,t,"filter",s,o,o,e),!0}))return void(r&&t.cancelable&&t.preventDefault());i.handle&&!V(c,i.handle,o,!1)||this._prepareDragStart(t,l,s,e)}}else z&&$(o,t,"_onTapStart")}},_handleAutoScroll:function(e,n){var o,i,t,r,a;C&&this.options.scroll&&(o=e.clientX,i=e.clientY,t=W.elementFromPoint(o,i),r=this,n||y||z?(pt(e,r.options,t,n),a=x(t,!0),!rt||l&&o===v&&i===m||(l&&clearInterval(l),l=setInterval(function(){var t;C&&(t=x(W.elementFromPoint(o,i),!0))!==a&&(a=t,gt(),pt(e,r.options,a,n))},10),v=o,m=i)):r.options.bubbleScroll&&x(t,!0)!==window?pt(e,r.options,x(t,!1),!1):gt())},_prepareDragStart:function(t,e,n,o){var i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!C&&n.parentNode===r&&(N=r,T=(C=n).parentNode,X=C.nextSibling,g=n,nt=a.group,M=o,s={target:C,clientX:(e||t).clientX,clientY:(e||t).clientY},this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,C.style["will-change"]="all",C.style.transition="",C.style.transform="",r=function(){i._disableDelayedDrag(),C.draggable=i.nativeDraggable,i._triggerDragStart(t,e),K(i,N,"choose",C,N,N,M),q(C,a.chosenClass,!0)},a.ignore.split(",").forEach(function(t){wt(C,t.trim(),yt)}),a.supportPointer?c(l,"pointerup",i._onDrop):(c(l,"mouseup",i._onDrop),c(l,"touchend",i._onDrop),c(l,"touchcancel",i._onDrop)),a.delay?(c(l,"mouseup",i._disableDelayedDrag),c(l,"touchend",i._disableDelayedDrag),c(l,"touchcancel",i._disableDelayedDrag),c(l,"mousemove",i._delayedDragTouchMoveHandler),c(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&c(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=F(r,a.delay)):r())},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;ut(j(t.clientX-this._lastX),j(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),i(t,"mouseup",this._disableDelayedDrag),i(t,"touchend",this._disableDelayedDrag),i(t,"touchcancel",this._disableDelayedDrag),i(t,"mousemove",this._delayedDragTouchMoveHandler),i(t,"touchmove",this._delayedDragTouchMoveHandler),i(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),!this.nativeDraggable||e?this.options.supportPointer?c(W,"pointermove",this._onTouchMove):c(W,e?"touchmove":"mousemove",this._onTouchMove):(c(C,"dragend",this),c(N,"dragstart",this._onDragStart));try{W.selection?Xt(function(){W.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t){var e;b=!1,N&&C?(this.nativeDraggable&&(c(W,"dragover",this._handleAutoScroll),c(W,"dragover",d)),e=this.options,t||q(C,e.dragClass,!1),q(C,e.ghostClass,!0),G(C,"transform",""),U.active=this,t&&this._appendGhost(),K(this,N,"start",C,N,N,M)):this._nulling()},_emulateDragOver:function(t){if(k&&(this._lastX!==k.clientX||this._lastY!==k.clientY||t)){this._lastX=k.clientX,this._lastY=k.clientY,h();for(var e=W.elementFromPoint(k.clientX,k.clientY),n=e;e&&e.shadowRoot;)n=e=e.shadowRoot.elementFromPoint(k.clientX,k.clientY);if(n)for(;(!n[R]||!n[R]._onDragOver({clientX:k.clientX,clientY:k.clientY,target:e,rootEl:n})||this.options.dragoverBubble)&&(n=(e=n).parentNode););C.parentNode[R]._computeIsAligned(k),p()}},_onTouchMove:function(t){if(s){var e=this.options,n=e.fallbackTolerance,e=e.fallbackOffset,o=t.touches?t.touches[0]:t,i=E&&bt(E),r=E&&i&&i.a,i=E&&i&&i.d,r=(o.clientX-s.clientX+e.x)/(r||1),e=(o.clientY-s.clientY+e.y)/(i||1),i=t.touches?"translate3d("+r+"px,"+e+"px,0)":"translate("+r+"px,"+e+"px)";if(!U.active&&!b){if(n&&ut(j(o.clientX-this._lastX),j(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}this._handleAutoScroll(o,!0),ot=!0,k=o,G(E,"webkitTransform",i),G(E,"mozTransform",i),G(E,"msTransform",i),G(E,"transform",i),t.cancelable&&t.preventDefault()}},_appendGhost:function(){var t,e;E||(t=Q(C,this.options.fallbackOnBody?W.body:N,!0),G(C),e=this.options,q(E=C.cloneNode(!0),e.ghostClass,!1),q(E,e.fallbackClass,!0),q(E,e.dragClass,!0),G(E,"box-sizing","border-box"),G(E,"margin",0),G(E,"top",t.top),G(E,"left",t.left),G(E,"width",t.width),G(E,"height",t.height),G(E,"opacity","0.8"),G(E,"position","fixed"),G(E,"zIndex","100000"),G(E,"pointerEvents","none"),e.fallbackOnBody&&W.body.appendChild(E)||N.appendChild(E))},_onDragStart:function(t,e){var n=this,t=t.dataTransfer,o=n.options;(u=Nt(C)).draggable=!1,u.style["will-change"]="",this._hideClone(),q(u,n.options.chosenClass,!1),n._cloneId=Xt(function(){n.options.removeCloneOnHide||N.insertBefore(u,C),K(n,N,"clone",C)}),e||q(C,o.dragClass,!0),e?(at=!0,n._loopId=setInterval(n._emulateDragOver,50)):(i(W,"mouseup",n._onDrop),i(W,"touchend",n._onDrop),i(W,"touchcancel",n._onDrop),t&&(t.effectAllowed="move",o.setData&&o.setData.call(n,t,C)),c(W,"drop",n),G(C,"transform","translateZ(0)")),b=!0,n._dragStartId=Xt(n._dragStarted.bind(n,e)),c(W,"selectstart",n)},_onDragOver:function(t){var e,n,o,i,r=this.el,a=t.target,l=this.options,s=l.group,c=U.active,d=nt===s,h=l.sort,u=this;if(!dt&&(!z||t.rootEl||t.artificialBubble||J(r,a))){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),ot=!0,a=V(a,l.draggable,r,!0),V(t.target,null,C,!0)||a.animated)return D();if(a!==C&&(at=!1),c&&!l.disabled&&(d?h||(o=!N.contains(C)):P===this||(this.lastPutMode=nt.checkPull(this,c,C,t))&&s.checkPut(this,c,C,t))){h=this._getDirection(t,a),s=Q(C);if(o)return this._hideClone(),T=N,X?N.insertBefore(C,X):N.appendChild(C),D();if(0===r.children.length||r.children[0]===E||(o=t,p=h,i=Q(Ct(r)),v="vertical"===p?o.clientY:o.clientX,o="vertical"===p?o.clientX:o.clientY,m="vertical"===p?i.bottom:i.right,g="vertical"===p?i.left:i.top,i="vertical"===p?i.right:i.bottom,("vertical"===p?i+10<o||o<=i&&m<v&&g<=o:m<v&&g<o||v<=m&&i+10<o)&&!C.animated)){if((a=0!==r.children.length&&r.children[0]!==E&&r===t.target?Ct(r):a)&&(b=Q(a)),d?c._hideClone():c._showClone(this),!1!==_t(N,r,C,s,a,b,t,!!a))return r.appendChild(C),T=r,B=null,S(),this._animate(s,C),a&&this._animate(b,a),D()}else if(a&&a!==C&&a.parentNode===r){var f,p=0,g=a.sortableMouseAligned,v=C.parentNode!==r,m=function(t,e){for(var n=x(n,!0),o=Q(t)[e];n;){var i=Q(n)[e];if(!("top"==e||"left"==e?i<=o:o<=i))return!0;if(n===L)break;n=x(n,!1)}return!1}(a,"vertical"===h?"top":"left");if(I!==a&&(O=null,f=Q(a)["vertical"===h?"top":"left"],lt=!1),i=a,o=h,y=C===C&&B||Q(C),i=i===C&&B||Q(i),_="vertical"===o?y.left:y.top,e="vertical"===o?y.right:y.bottom,y="vertical"===o?y.width:y.height,n="vertical"===o?i.left:i.top,w="vertical"===o?i.right:i.bottom,o="vertical"===o?i.width:i.height,O=(_===n||e===w||_+y/2===n+o/2)&&g||v||m||l.invertSwap||"insert"===O||"swap"===O?("swap"!==O&&(st=l.invertSwap||v||rt||m),p=function(t,e,n,o,i,r,a){var e=Q(e),t="vertical"===n?t.clientY:t.clientX,l="vertical"===n?e.height:e.width,s="vertical"===n?e.top:e.left,e="vertical"===n?e.bottom:e.right,c=Q(C),d=!1;if(!r)if(a&&it<l*o){if(lt=!lt&&(1===A?s+l*i/2<t:t<e-l*i/2)?!0:lt)d=!0;else if("vertical"===n?c.top:c.left,"vertical"===n?c.bottom:c.right,1===A?t<s+it:e-it<t)return-1*A}else if(s+l*(1-o)/2<t&&t<e-l*(1-o)/2)return s+l/2<t?-1:1;return(d=d||r)&&(t<s+l*i/2||e-l*i/2<t)?s+l/2<t?1:-1:0}(t,a,h,l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,st,I===a),"swap"):(i=a,p=Z(C,(e=l).draggable)<Z(i,e.draggable)?1:-1,"insert"),0===p)return D();B=null,A=p;var b=Q(I=a),w=a.nextElementSibling,_=!1,y=_t(N,r,C,s,a,b,t,_=1===p);if(!1!==y)return 1!==y&&-1!==y||(_=1===y),dt=!0,F(Dt,30),d?c._hideClone():c._showClone(this),_&&!w?r.appendChild(C):a.parentNode.insertBefore(C,_?w:a),T=C.parentNode,void 0===f||st||(it=j(f-Q(a)["vertical"===h?"top":"left"])),S(),v||this._animate(b,a),this._animate(s,C),D()}if(r.contains(C))return D()}return z&&!t.rootEl&&$(r,t,"_onDragOver"),!1}function D(){return c&&(q(C,(P||c).options.ghostClass,!1),q(C,l.ghostClass,!0)),P!==u&&u!==U.active?P=u:u===U.active&&(P=null),(a===C&&!C.animated||a===r&&!a.animated)&&(I=null),l.dragoverBubble||t.rootEl||a===W||(u._handleAutoScroll(t),C.parentNode[R]._computeIsAligned(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),!0}function S(){K(u,N,"change",a,r,N,M,Z(C,l.draggable),t)}},_animate:function(t,e){var n,o,i,r=this.options.animation;r&&(n=Q(e),e===C&&(B=n),(t=1===t.nodeType?Q(t):t).left+t.width/2===n.left+n.width/2&&t.top+t.height/2===n.top+n.height/2||(o=(i=bt(this.el))&&i.a,i=i&&i.d,G(e,"transition","none"),G(e,"transform","translate3d("+(t.left-n.left)/(o||1)+"px,"+(t.top-n.top)/(i||1)+"px,0)"),e.offsetWidth,G(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),G(e,"transform","translate3d(0,0,0)")),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=F(function(){G(e,"transition",""),G(e,"transform",""),e.animated=!1},r))},_offUpEvents:function(){var t=this.el.ownerDocument;i(W,"touchmove",this._onTouchMove),i(W,"pointermove",this._onTouchMove),i(t,"mouseup",this._onDrop),i(t,"touchend",this._onDrop),i(t,"pointerup",this._onDrop),i(t,"touchcancel",this._onDrop),i(W,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;lt=st=rt=b=!1,clearInterval(this._loopId),clearInterval(l),gt(),clearTimeout(mt),mt=void 0,clearTimeout(this._dragStartTimer),Yt(this._cloneId),Yt(this._dragStartId),i(W,"mousemove",this._onTouchMove),this.nativeDraggable&&(i(W,"drop",this),i(e,"dragstart",this._onDragStart),i(W,"dragover",this._handleAutoScroll),i(W,"dragover",d)),this._offUpEvents(),t&&(ot&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),E&&E.parentNode&&E.parentNode.removeChild(E),(N===T||P&&"clone"!==P.lastPutMode)&&u&&u.parentNode&&u.parentNode.removeChild(u),C&&(this.nativeDraggable&&i(C,"dragend",this),yt(C),C.style["will-change"]="",q(C,(P||this).options.ghostClass,!1),q(C,this.options.chosenClass,!1),K(this,N,"unchoose",C,T,N,M,null,t),N!==T?(0<=(o=Z(C,n.draggable))&&(K(null,T,"add",C,T,N,M,o,t),K(this,N,"remove",C,T,N,M,o,t),K(null,T,"sort",C,T,N,M,o,t),K(this,N,"sort",C,T,N,M,o,t)),P&&P.save()):C.nextSibling!==X&&0<=(o=Z(C,n.draggable))&&(K(this,N,"update",C,T,N,M,o,t),K(this,N,"sort",C,T,N,M,o,t)),U.active&&(K(this,N,"end",C,T,N,M,o=null!=o&&-1!==o?o:M,t),this.save()))),this._nulling()},_nulling:function(){N=C=T=E=X=u=g=Y=tt=H.length=l=v=m=s=k=ot=o=M=I=A=B=P=nt=U.active=null,ft.forEach(function(t){t.checked=!0}),ft.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":C&&(this._onDragOver(t),(e=t).dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault());break;case"selectstart":t.preventDefault()}var e},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)V(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t){var n={},o=this.el;this.toArray().forEach(function(t,e){e=o.children[e];V(e,this.options.draggable,o,!1)&&(n[t]=e)},this),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return V(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&vt(n)},destroy:function(){var t=this.el;t[R]=null,i(t,"mousedown",this._onTapStart),i(t,"touchstart",this._onTapStart),i(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(i(t,"dragover",this),i(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),a.splice(a.indexOf(this.el),1),this.el=t=null},_hideClone:function(){u.cloneHidden||(G(u,"display","none"),u.cloneHidden=!0,u.parentNode&&this.options.removeCloneOnHide&&u.parentNode.removeChild(u))},_showClone:function(t){"clone"===t.lastPutMode?u.cloneHidden&&(N.contains(C)&&!this.options.group.revertClone?N.insertBefore(u,C):X?N.insertBefore(u,X):N.appendChild(u),this.options.group.revertClone&&this._animate(C,u),G(u,"display",""),u.cloneHidden=!1):this._hideClone()}},c(W,"touchmove",function(t){(U.active||b)&&t.cancelable&&t.preventDefault()}),U.utils={on:c,off:i,css:G,find:wt,is:function(t,e){return!!V(t,e,t,!1)},extend:xt,throttle:Et,closest:V,toggleClass:q,clone:Nt,index:Z,nextTick:Xt,cancelNextTick:Yt,detectDirection:r,getChild:St},U.create=function(t,e){return new U(t,e)},U.version="1.8.3",U});